{"ast":null,"code":"import { useRef, useEffect } from 'react'; // This file does not have 100% code coverage.\n\n/**\n * Create and attach element to the body to be used for portal.\n *\n * @see {@link https://www.jayfreestone.com/writing/react-portals-with-hooks}\n *\n * @returns {React.Ref} modal\n */\n\nvar usePortal = function () {\n  let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var {\n    a11yHidden = true\n  } = options;\n  var modal = useRef(null);\n  var container = document.body;\n\n  if (!modal.current) {\n    modal.current = document.createElement(\"div\");\n  } // istanbul ignore next\n\n\n  useEffect(() => {\n    // istanbul ignore next\n    if (!a11yHidden) {\n      return () => undefined;\n    } // We need to add `aria-hidden` to all children of <body>,\n    // except for the modal. We .filter() the list to find only\n    // <div>-like elements, ignoring <script>, <style>, etc.\n    // We also don't want to affect any elements that may already\n    // have `aria-hidden` set to true.\n\n\n    var bodyChildren = Array.from(container.children).filter(child => child.innerHTML && [null, \"false\"].includes(child.getAttribute(\"aria-hidden\")));\n    bodyChildren.forEach(el => el.setAttribute(\"aria-hidden\", \"true\"));\n    return () => {\n      bodyChildren.forEach(el => el.removeAttribute(\"aria-hidden\"));\n    };\n  }, []);\n  useEffect(() => {\n    container.appendChild(modal.current);\n    return () => {\n      // istanbul ignore next\n      if (!modal.current) {\n        return;\n      } // NOTE: IE 11 needs removeChild\n\n\n      container.removeChild(modal.current);\n    };\n  }, []);\n  return modal;\n};\n\nexport { usePortal };","map":{"version":3,"names":["useRef","useEffect","usePortal","options","a11yHidden","modal","container","document","body","current","createElement","undefined","bodyChildren","Array","from","children","filter","child","innerHTML","includes","getAttribute","forEach","el","setAttribute","removeAttribute","appendChild","removeChild"],"sources":["/Users/r0d025j/Documents/IMD/GT22/find-my-carrier/carrier-prediction-ui/node_modules/@seller-center/core-components/dist/esm/components/src/utility/usePortal.js"],"sourcesContent":["import { useRef, useEffect } from 'react';\n\n// This file does not have 100% code coverage.\n/**\n * Create and attach element to the body to be used for portal.\n *\n * @see {@link https://www.jayfreestone.com/writing/react-portals-with-hooks}\n *\n * @returns {React.Ref} modal\n */\n\nvar usePortal = (options = {}) => {\n  var {\n    a11yHidden = true\n  } = options;\n  var modal = useRef(null);\n  var container = document.body;\n\n  if (!modal.current) {\n    modal.current = document.createElement(\"div\");\n  } // istanbul ignore next\n\n\n  useEffect(() => {\n    // istanbul ignore next\n    if (!a11yHidden) {\n      return () => undefined;\n    } // We need to add `aria-hidden` to all children of <body>,\n    // except for the modal. We .filter() the list to find only\n    // <div>-like elements, ignoring <script>, <style>, etc.\n    // We also don't want to affect any elements that may already\n    // have `aria-hidden` set to true.\n\n\n    var bodyChildren = Array.from(container.children).filter(child => child.innerHTML && [null, \"false\"].includes(child.getAttribute(\"aria-hidden\")));\n    bodyChildren.forEach(el => el.setAttribute(\"aria-hidden\", \"true\"));\n    return () => {\n      bodyChildren.forEach(el => el.removeAttribute(\"aria-hidden\"));\n    };\n  }, []);\n  useEffect(() => {\n    container.appendChild(modal.current);\n    return () => {\n      // istanbul ignore next\n      if (!modal.current) {\n        return;\n      } // NOTE: IE 11 needs removeChild\n\n\n      container.removeChild(modal.current);\n    };\n  }, []);\n  return modal;\n};\n\nexport { usePortal };\n"],"mappings":"AAAA,SAASA,MAAT,EAAiBC,SAAjB,QAAkC,OAAlC,C,CAEA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAIC,SAAS,GAAG,YAAkB;EAAA,IAAjBC,OAAiB,uEAAP,EAAO;EAChC,IAAI;IACFC,UAAU,GAAG;EADX,IAEAD,OAFJ;EAGA,IAAIE,KAAK,GAAGL,MAAM,CAAC,IAAD,CAAlB;EACA,IAAIM,SAAS,GAAGC,QAAQ,CAACC,IAAzB;;EAEA,IAAI,CAACH,KAAK,CAACI,OAAX,EAAoB;IAClBJ,KAAK,CAACI,OAAN,GAAgBF,QAAQ,CAACG,aAAT,CAAuB,KAAvB,CAAhB;EACD,CAT+B,CAS9B;;;EAGFT,SAAS,CAAC,MAAM;IACd;IACA,IAAI,CAACG,UAAL,EAAiB;MACf,OAAO,MAAMO,SAAb;IACD,CAJa,CAIZ;IACF;IACA;IACA;IACA;;;IAGA,IAAIC,YAAY,GAAGC,KAAK,CAACC,IAAN,CAAWR,SAAS,CAACS,QAArB,EAA+BC,MAA/B,CAAsCC,KAAK,IAAIA,KAAK,CAACC,SAAN,IAAmB,CAAC,IAAD,EAAO,OAAP,EAAgBC,QAAhB,CAAyBF,KAAK,CAACG,YAAN,CAAmB,aAAnB,CAAzB,CAAlE,CAAnB;IACAR,YAAY,CAACS,OAAb,CAAqBC,EAAE,IAAIA,EAAE,CAACC,YAAH,CAAgB,aAAhB,EAA+B,MAA/B,CAA3B;IACA,OAAO,MAAM;MACXX,YAAY,CAACS,OAAb,CAAqBC,EAAE,IAAIA,EAAE,CAACE,eAAH,CAAmB,aAAnB,CAA3B;IACD,CAFD;EAGD,CAhBQ,EAgBN,EAhBM,CAAT;EAiBAvB,SAAS,CAAC,MAAM;IACdK,SAAS,CAACmB,WAAV,CAAsBpB,KAAK,CAACI,OAA5B;IACA,OAAO,MAAM;MACX;MACA,IAAI,CAACJ,KAAK,CAACI,OAAX,EAAoB;QAClB;MACD,CAJU,CAIT;;;MAGFH,SAAS,CAACoB,WAAV,CAAsBrB,KAAK,CAACI,OAA5B;IACD,CARD;EASD,CAXQ,EAWN,EAXM,CAAT;EAYA,OAAOJ,KAAP;AACD,CA1CD;;AA4CA,SAASH,SAAT"},"metadata":{},"sourceType":"module"}