{"ast":null,"code":"import { objectWithoutProperties as _objectWithoutProperties, objectSpread2 as _objectSpread2, extends as _extends } from '../../../_virtual/_rollupPluginBabelHelpers.js';\nimport { useRef, useCallback, useEffect, createElement } from 'react';\nimport classNames from 'classnames';\nimport { applyCommonProps } from '../utility/commonProps.js';\nimport { BasePopover } from './BasePopover.js';\nimport { useOnClickOutside } from '../utility/useOnClickOutside.js';\nimport { useOnKeyDown } from '../utility/useOnKeyDown.js';\nimport { FocusGuard } from '../FocusGuard/FocusGuard.js';\nimport { usePortal } from '../utility/usePortal.js';\nimport style from './PopoverPortal.module.scss.js';\nimport { Layer } from '../Layer/Layer.js';\nimport { usePopper } from 'react-popper';\nimport { FocusTrap } from '../FocusTrap/FocusTrap.js';\nimport { useForceUpdate } from '../utility/useForceUpdate.js';\n\nvar PopoverPortal = props => {\n  var _applyCommonProps = applyCommonProps(props, PopoverPortal),\n      {\n    basePopoverProps = {},\n    className,\n    content,\n    hasNubbin = false,\n    onClose,\n    popoverContainerRef,\n    position = \"bottom\",\n    triggerRef,\n    isFixed = false,\n    focusLock = false,\n    margin = hasNubbin ? 12 : 4,\n    skid = 0,\n    overrides = {},\n    popperOptions = {},\n    autoFocus = true,\n    disableCloseOnClickOutside = false,\n    disableCloseOnEsc = false,\n    disablePopoverFlip = false,\n    mountNodeRef,\n    disablePortal = false,\n    onMouseEnter = () => {},\n    onMouseLeave = () => {}\n  } = _applyCommonProps,\n      rest = _objectWithoutProperties(_applyCommonProps, [\"basePopoverProps\", \"className\", \"content\", \"hasNubbin\", \"onClose\", \"popoverContainerRef\", \"position\", \"triggerRef\", \"isFixed\", \"focusLock\", \"margin\", \"skid\", \"overrides\", \"popperOptions\", \"autoFocus\", \"disableCloseOnClickOutside\", \"disableCloseOnEsc\", \"disablePopoverFlip\", \"mountNodeRef\", \"disablePortal\", \"onMouseEnter\", \"onMouseLeave\"]);\n\n  var popoverRef = useRef(null);\n  var popoverMountRef = !disablePortal ? mountNodeRef || usePortal({\n    a11yHidden: false\n  }) : useRef();\n  var arrowRef = useRef(null);\n  var anchorRef = triggerRef.current ? triggerRef :\n  /* istanbul ignore next */\n  popoverContainerRef; // Prevents overflow\n\n  var customTetherOffset = useCallback(_ref => {\n    let {\n      popper,\n      placement\n    } = _ref;\n\n    if (String(placement).includes(\"right\") || String(placement).includes(\"left\")) {\n      return popper.height;\n    }\n\n    return 0;\n  }, []); // Offset modifier to modifiy popper skidding flip usecase\n\n  var customPopperOffset = useCallback(_ref2 => {\n    let {\n      placement\n    } = _ref2;\n    var [, align] = placement.split(\"-\");\n\n    if (align === \"start\") {\n      return [-Math.abs(Number(skid)), margin];\n    } else if (align === \"end\") {\n      return [Math.abs(Number(skid)), margin];\n    } else {\n      return [skid, margin];\n    }\n  }, [skid, margin]);\n  var defaultPopperOptions = {\n    modifiers: [{\n      name: \"offset\",\n      options: {\n        offset: customPopperOffset\n      }\n    }, {\n      name: \"arrow\",\n      options: {\n        element: arrowRef.current\n      }\n    }, {\n      name: \"preventOverflow\",\n      options: {\n        tetherOffset: customTetherOffset\n      }\n    }, {\n      name: \"flip\",\n      enabled: !disablePopoverFlip\n    }]\n  };\n  var {\n    styles,\n    attributes,\n    state: popperState,\n    update: popoverUpdate\n  } = usePopper(anchorRef.current, popoverRef.current, _objectSpread2(_objectSpread2({\n    strategy: isFixed ? \"fixed\" : \"absolute\",\n    placement: position\n  }, popperOptions), {}, {\n    modifiers: [...defaultPopperOptions.modifiers, ...(popperOptions.modifiers || [])]\n  }));\n  var forceUpdate = useForceUpdate();\n\n  var isPopperPositioned = () => !!popperState;\n\n  var onCloseWithFocusReturn = event => {\n    (anchorRef === null || anchorRef === void 0 ? void 0 : anchorRef.current).focus();\n    onClose(event);\n  };\n\n  var onDocumentClick = evt => {\n    if (disableCloseOnClickOutside) {\n      return;\n    }\n\n    onClose && onClose(evt);\n  };\n\n  var onEsc = event => {\n    if (disableCloseOnEsc) {\n      return;\n    }\n\n    onCloseWithFocusReturn(event);\n  }; // TODO: Find better way to handle click outside, possibly event delegation\n\n\n  useOnClickOutside([anchorRef, popoverRef], onDocumentClick, {\n    disablePreventDefault: true\n  });\n  useOnKeyDown([\"Esc\", \"Escape\"], onEsc);\n  /*\n   * Forcing popover/component to re-render is updating postion of popper\n   * https://popper.js.org/docs/v2/modifiers/event-listeners/\n   */\n\n  useEffect(() => {\n    forceUpdate();\n    popoverUpdate && popoverUpdate();\n  }, [content, anchorRef === null || anchorRef === void 0 ? void 0 : anchorRef.current, popoverMountRef === null || popoverMountRef === void 0 ? void 0 : popoverMountRef.current, hasNubbin]);\n  useEffect(() => {\n    /* istanbul ignore else */\n    if (!isPopperPositioned()) {\n      var _popoverRef$current;\n\n      forceUpdate();\n      (_popoverRef$current = popoverRef.current) === null || _popoverRef$current === void 0 ? void 0 : _popoverRef$current.style.removeProperty(\"visibility\");\n    }\n  }, []);\n  var close = useCallback(evt => {\n    onClose && onClose(evt);\n  }, [onClose]);\n\n  var renderContentWithFocusLock = renderContent => {\n    if (focusLock) {\n      /*\n       ** Using react-focus-lock to trap the focus inside popover\n       ** popover wont close on tab be in loop\n       */\n      return /*#__PURE__*/createElement(FocusTrap, {\n        hasFocusReturn: false,\n        autoFocus: isPopperPositioned() && autoFocus // autofocus after popper positioned\n        ,\n        noFocusGuards: false\n      }, renderContent);\n    } else {\n      /*\n       ** Popover closes when no more focusable elements on tab\n       */\n      return /*#__PURE__*/createElement(FocusGuard, {\n        autoFocus: autoFocus,\n        onGuard: onCloseWithFocusReturn\n      }, renderContent);\n    }\n  };\n\n  var getArrowClassFromPositon = placement => {\n    var [basePosition] = (placement ||\n    /* istanbul ignore next */\n    \"\").split(\"-\");\n    return style[basePosition];\n  };\n\n  var renderInnerContent = () => {\n    return /*#__PURE__*/createElement(BasePopover, _extends({}, basePopoverProps, {\n      className: classNames(style.popperBase, basePopoverProps === null || basePopoverProps === void 0 ? void 0 : basePopoverProps.className),\n      contentClassName: classNames(overrides.content)\n    }), typeof content === \"function\" ? content({\n      close\n    }) : content);\n  };\n\n  var renderArrowContent = () => {\n    var _attributes$popper;\n\n    return /*#__PURE__*/createElement(\"div\", {\n      ref: arrowRef,\n      style: styles.arrow,\n      className: classNames(isPopperPositioned() ? style.show : null, isPopperPositioned() && getArrowClassFromPositon((_attributes$popper = attributes.popper) === null || _attributes$popper === void 0 ? void 0 : _attributes$popper[\"data-popper-placement\"]), style.arrow, overrides.arrow)\n    });\n  };\n\n  return /*#__PURE__*/createElement(Layer, {\n    disablePortal: disablePortal,\n    mountNode: popoverMountRef === null || popoverMountRef === void 0 ? void 0 : popoverMountRef.current\n  }, /*#__PURE__*/createElement(\"div\", _extends({}, rest, {\n    style: _objectSpread2({\n      visibility: \"hidden\"\n    }, styles.popper)\n  }, attributes.popper, {\n    ref: popoverRef,\n    className: classNames(style.popover, overrides.base, className),\n    onMouseLeave: onMouseLeave,\n    onMouseEnter: onMouseEnter\n  }), hasNubbin && renderArrowContent(), renderContentWithFocusLock(renderInnerContent())));\n};\n\nexport { PopoverPortal };","map":{"version":3,"names":["objectWithoutProperties","_objectWithoutProperties","objectSpread2","_objectSpread2","extends","_extends","useRef","useCallback","useEffect","createElement","classNames","applyCommonProps","BasePopover","useOnClickOutside","useOnKeyDown","FocusGuard","usePortal","style","Layer","usePopper","FocusTrap","useForceUpdate","PopoverPortal","props","_applyCommonProps","basePopoverProps","className","content","hasNubbin","onClose","popoverContainerRef","position","triggerRef","isFixed","focusLock","margin","skid","overrides","popperOptions","autoFocus","disableCloseOnClickOutside","disableCloseOnEsc","disablePopoverFlip","mountNodeRef","disablePortal","onMouseEnter","onMouseLeave","rest","popoverRef","popoverMountRef","a11yHidden","arrowRef","anchorRef","current","customTetherOffset","popper","placement","String","includes","height","customPopperOffset","align","split","Math","abs","Number","defaultPopperOptions","modifiers","name","options","offset","element","tetherOffset","enabled","styles","attributes","state","popperState","update","popoverUpdate","strategy","forceUpdate","isPopperPositioned","onCloseWithFocusReturn","event","focus","onDocumentClick","evt","onEsc","disablePreventDefault","_popoverRef$current","removeProperty","close","renderContentWithFocusLock","renderContent","hasFocusReturn","noFocusGuards","onGuard","getArrowClassFromPositon","basePosition","renderInnerContent","popperBase","contentClassName","renderArrowContent","_attributes$popper","ref","arrow","show","mountNode","visibility","popover","base"],"sources":["/Users/r0d025j/Documents/IMD/GT22/find-my-carrier/carrier-prediction-ui/node_modules/@seller-center/core-components/dist/esm/components/src/Popover/PopoverPortal.js"],"sourcesContent":["import { objectWithoutProperties as _objectWithoutProperties, objectSpread2 as _objectSpread2, extends as _extends } from '../../../_virtual/_rollupPluginBabelHelpers.js';\nimport { useRef, useCallback, useEffect, createElement } from 'react';\nimport classNames from 'classnames';\nimport { applyCommonProps } from '../utility/commonProps.js';\nimport { BasePopover } from './BasePopover.js';\nimport { useOnClickOutside } from '../utility/useOnClickOutside.js';\nimport { useOnKeyDown } from '../utility/useOnKeyDown.js';\nimport { FocusGuard } from '../FocusGuard/FocusGuard.js';\nimport { usePortal } from '../utility/usePortal.js';\nimport style from './PopoverPortal.module.scss.js';\nimport { Layer } from '../Layer/Layer.js';\nimport { usePopper } from 'react-popper';\nimport { FocusTrap } from '../FocusTrap/FocusTrap.js';\nimport { useForceUpdate } from '../utility/useForceUpdate.js';\n\nvar PopoverPortal = props => {\n  var _applyCommonProps = applyCommonProps(props, PopoverPortal),\n      {\n    basePopoverProps = {},\n    className,\n    content,\n    hasNubbin = false,\n    onClose,\n    popoverContainerRef,\n    position = \"bottom\",\n    triggerRef,\n    isFixed = false,\n    focusLock = false,\n    margin = hasNubbin ? 12 : 4,\n    skid = 0,\n    overrides = {},\n    popperOptions = {},\n    autoFocus = true,\n    disableCloseOnClickOutside = false,\n    disableCloseOnEsc = false,\n    disablePopoverFlip = false,\n    mountNodeRef,\n    disablePortal = false,\n    onMouseEnter = () => {},\n    onMouseLeave = () => {}\n  } = _applyCommonProps,\n      rest = _objectWithoutProperties(_applyCommonProps, [\"basePopoverProps\", \"className\", \"content\", \"hasNubbin\", \"onClose\", \"popoverContainerRef\", \"position\", \"triggerRef\", \"isFixed\", \"focusLock\", \"margin\", \"skid\", \"overrides\", \"popperOptions\", \"autoFocus\", \"disableCloseOnClickOutside\", \"disableCloseOnEsc\", \"disablePopoverFlip\", \"mountNodeRef\", \"disablePortal\", \"onMouseEnter\", \"onMouseLeave\"]);\n\n  var popoverRef = useRef(null);\n  var popoverMountRef = !disablePortal ? mountNodeRef || usePortal({\n    a11yHidden: false\n  }) : useRef();\n  var arrowRef = useRef(null);\n  var anchorRef = triggerRef.current ? triggerRef :\n  /* istanbul ignore next */\n  popoverContainerRef; // Prevents overflow\n\n  var customTetherOffset = useCallback(({\n    popper,\n    placement\n  }) => {\n    if (String(placement).includes(\"right\") || String(placement).includes(\"left\")) {\n      return popper.height;\n    }\n\n    return 0;\n  }, []); // Offset modifier to modifiy popper skidding flip usecase\n\n  var customPopperOffset = useCallback(({\n    placement\n  }) => {\n    var [, align] = placement.split(\"-\");\n\n    if (align === \"start\") {\n      return [-Math.abs(Number(skid)), margin];\n    } else if (align === \"end\") {\n      return [Math.abs(Number(skid)), margin];\n    } else {\n      return [skid, margin];\n    }\n  }, [skid, margin]);\n  var defaultPopperOptions = {\n    modifiers: [{\n      name: \"offset\",\n      options: {\n        offset: customPopperOffset\n      }\n    }, {\n      name: \"arrow\",\n      options: {\n        element: arrowRef.current\n      }\n    }, {\n      name: \"preventOverflow\",\n      options: {\n        tetherOffset: customTetherOffset\n      }\n    }, {\n      name: \"flip\",\n      enabled: !disablePopoverFlip\n    }]\n  };\n  var {\n    styles,\n    attributes,\n    state: popperState,\n    update: popoverUpdate\n  } = usePopper(anchorRef.current, popoverRef.current, _objectSpread2(_objectSpread2({\n    strategy: isFixed ? \"fixed\" : \"absolute\",\n    placement: position\n  }, popperOptions), {}, {\n    modifiers: [...defaultPopperOptions.modifiers, ...(popperOptions.modifiers || [])]\n  }));\n  var forceUpdate = useForceUpdate();\n\n  var isPopperPositioned = () => !!popperState;\n\n  var onCloseWithFocusReturn = event => {\n    (anchorRef === null || anchorRef === void 0 ? void 0 : anchorRef.current).focus();\n    onClose(event);\n  };\n\n  var onDocumentClick = evt => {\n    if (disableCloseOnClickOutside) {\n      return;\n    }\n\n    onClose && onClose(evt);\n  };\n\n  var onEsc = event => {\n    if (disableCloseOnEsc) {\n      return;\n    }\n\n    onCloseWithFocusReturn(event);\n  }; // TODO: Find better way to handle click outside, possibly event delegation\n\n\n  useOnClickOutside([anchorRef, popoverRef], onDocumentClick, {\n    disablePreventDefault: true\n  });\n  useOnKeyDown([\"Esc\", \"Escape\"], onEsc);\n  /*\n   * Forcing popover/component to re-render is updating postion of popper\n   * https://popper.js.org/docs/v2/modifiers/event-listeners/\n   */\n\n  useEffect(() => {\n    forceUpdate();\n    popoverUpdate && popoverUpdate();\n  }, [content, anchorRef === null || anchorRef === void 0 ? void 0 : anchorRef.current, popoverMountRef === null || popoverMountRef === void 0 ? void 0 : popoverMountRef.current, hasNubbin]);\n  useEffect(() => {\n    /* istanbul ignore else */\n    if (!isPopperPositioned()) {\n      var _popoverRef$current;\n\n      forceUpdate();\n      (_popoverRef$current = popoverRef.current) === null || _popoverRef$current === void 0 ? void 0 : _popoverRef$current.style.removeProperty(\"visibility\");\n    }\n  }, []);\n  var close = useCallback(evt => {\n    onClose && onClose(evt);\n  }, [onClose]);\n\n  var renderContentWithFocusLock = renderContent => {\n    if (focusLock) {\n      /*\n       ** Using react-focus-lock to trap the focus inside popover\n       ** popover wont close on tab be in loop\n       */\n      return /*#__PURE__*/createElement(FocusTrap, {\n        hasFocusReturn: false,\n        autoFocus: isPopperPositioned() && autoFocus // autofocus after popper positioned\n        ,\n        noFocusGuards: false\n      }, renderContent);\n    } else {\n      /*\n       ** Popover closes when no more focusable elements on tab\n       */\n      return /*#__PURE__*/createElement(FocusGuard, {\n        autoFocus: autoFocus,\n        onGuard: onCloseWithFocusReturn\n      }, renderContent);\n    }\n  };\n\n  var getArrowClassFromPositon = placement => {\n    var [basePosition] = (placement ||\n    /* istanbul ignore next */\n    \"\").split(\"-\");\n    return style[basePosition];\n  };\n\n  var renderInnerContent = () => {\n    return /*#__PURE__*/createElement(BasePopover, _extends({}, basePopoverProps, {\n      className: classNames(style.popperBase, basePopoverProps === null || basePopoverProps === void 0 ? void 0 : basePopoverProps.className),\n      contentClassName: classNames(overrides.content)\n    }), typeof content === \"function\" ? content({\n      close\n    }) : content);\n  };\n\n  var renderArrowContent = () => {\n    var _attributes$popper;\n\n    return /*#__PURE__*/createElement(\"div\", {\n      ref: arrowRef,\n      style: styles.arrow,\n      className: classNames(isPopperPositioned() ? style.show : null, isPopperPositioned() && getArrowClassFromPositon((_attributes$popper = attributes.popper) === null || _attributes$popper === void 0 ? void 0 : _attributes$popper[\"data-popper-placement\"]), style.arrow, overrides.arrow)\n    });\n  };\n\n  return /*#__PURE__*/createElement(Layer, {\n    disablePortal: disablePortal,\n    mountNode: popoverMountRef === null || popoverMountRef === void 0 ? void 0 : popoverMountRef.current\n  }, /*#__PURE__*/createElement(\"div\", _extends({}, rest, {\n    style: _objectSpread2({\n      visibility: \"hidden\"\n    }, styles.popper)\n  }, attributes.popper, {\n    ref: popoverRef,\n    className: classNames(style.popover, overrides.base, className),\n    onMouseLeave: onMouseLeave,\n    onMouseEnter: onMouseEnter\n  }), hasNubbin && renderArrowContent(), renderContentWithFocusLock(renderInnerContent())));\n};\n\nexport { PopoverPortal };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}