import { useEffect } from 'react';
import { disableBodyScroll, enableBodyScroll } from 'body-scroll-lock';

// This file does not have 100% code coverage.
/**
 * Enables body scroll locking.
 *
 * @see {@link https://github.com/willmcpo/body-scroll-lock}
 * @see {@link https://github.com/gragland/usehooks/blob/master/src/pages/useLockBodyScroll.md}
 *
 * @example
 * const ref = useRef();
 *
 * useLockBodyScroll(ref)
 *
 * @param {React.RefObject} ref â€” Ref to manage scroll locking.
 * @returns {void}
 */

var useLockBodyScroll = ref => {
  useEffect(() => {
    var element = ref.current;
    /* istanbul ignore else */

    if (element) {
      disableBodyScroll(element);
    }

    return () => {
      /* istanbul ignore if */
      if (!element) {
        /* istanbul ignore next */
        return;
      }

      enableBodyScroll(element);
    };
  }, [ref]);
};

export { useLockBodyScroll };
